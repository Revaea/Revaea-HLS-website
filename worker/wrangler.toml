name = "hls"
main = "src/index.ts"
compatibility_date = "2026-02-14"

# Bind this worker to your custom domain route.
routes = [
	{ pattern = "hls.revaea.com/*", zone_name = "revaea.com" }
]

# Use the custom domain route instead of workers.dev.
workers_dev = false
preview_urls = false

# Serve the exported Next.js site from ../assets via Workers Static Assets.
assets = { directory = "../assets", binding = "ASSETS" }

[[r2_buckets]]
binding = "BUCKET"
bucket_name = "hls-playlist"

[vars]
# Comma-separated allow list.
# Supports full origin (https://example.com), wildcard host (*.example.com or https://*.example.com), or bare host (example.com)
CORS_ALLOW_ORIGINS = "https://revaea.com,https://www.revaea.com,https://*.revaea.com"
# Allow localhost origins for development: 1/0
ALLOW_LOCALHOST_CORS = "1"
